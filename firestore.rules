rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // 完全オープン（認証不要）
    // 個人用途・開発環境向け
    // 本番環境では認証を追加することを推奨
    
    // 新しい共有コレクション（uidなし）
    match /{collection}/{document=**} {
      allow read, write: if true;
    }
    
    // 旧形式のユーザー別コレクション（互換性のため）
    match /users/{userId}/{collection}/{document=**} {
      allow read, write: if true;
    }
  }
}
